<!DOCTYPE html>
<html data-theme="default" class="<%= html_class ||= "" %>">
  <head>
    <title><%= title_tag %></title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <script src="https://kit.fontawesome.com/7835d81e75.js" crossorigin="anonymous"></script>
    <script async src="https://ga.jspm.io/npm:es-module-shims@1.10.0/dist/es-module-shims.js" crossorigin="anonymous"></script>
    <%= stylesheet_link_tag "panda_cms", "data-turbo-track": "reload", media: "all" %>
    <%#= javascript_importmap_tags "application_panda_cms" %>
    <script type="importmap" data-turbo-track="reload">
      <%=
        JSON.pretty_generate({
          imports: {
            "application_panda_cms": asset_path("panda_cms/application_panda_cms.js"),
            "@hotwired/turbo": asset_path("panda_cms/@hotwired--turbo.js"),
            "@hotwired/stimulus": asset_path("panda_cms/@hotwired--stimulus.js"),
            "@hotwired/stimulus-loading": asset_path("stimulus-loading.js"),
            "tailwindcss-stimulus-components": asset_path("panda_cms/tailwindcss-stimulus-components.js"),
            "controllers/dashboard_controller": asset_path("panda_cms/controllers/dashboard_controller.js"),
            "controllers/slug_controller": asset_path("panda_cms/controllers/slug_controller.js"),

            "controllers": asset_path("panda_cms/controllers/index.js")
          }
        }).html_safe
      %>
    </script>
    <script type="module">
      import "application_panda_cms"
    </script>
    <%#= turbo_refreshes_with method: :morph, scroll: :preserve %>
    <%= render "panda_cms/shared/favicons" %>
    <%= yield :head %>
  </head>
  <body class="overflow-hidden h-full">
    <%= render "panda_cms/admin/shared/flash" %>
