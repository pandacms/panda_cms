Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Initializing websocket
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Initializing websocket
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Initializing websocket
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Initializing websocket
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Initializing websocket
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Initializing websocket
Started GET "/" for ::1 at 2024-10-03 22:26:33 +0100
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PandaCms::PagesController#root as HTML
Completed 500 Internal Server Error in 129ms (ActiveRecord: 4.6ms (0 queries, 0 cached) | GC: 15.1ms)



ActiveRecord::StatementInvalid - PG::UndefinedTable: ERROR:  relation "panda_cms_pages" does not exist
LINE 10:  WHERE a.attrelid = '"panda_cms_pages"'::regclass
                             ^:

Started POST "/__better_errors/80ca4a0856ef1a5d/variables" for ::1 at 2024-10-03 22:26:33 +0100
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
  [1m[35m (43.3ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (2.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (16.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_block_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_block_kind" AS ENUM ('plain_text', 'rich_text', 'image', 'video', 'audio', 'file', 'code', 'iframe', 'quote', 'list', 'table', 'form');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_menu_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_menu_kind" AS ENUM ('static', 'auto');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_page_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_page_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_post_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_post_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_block_content_versions" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_content_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "idx_on_item_type_item_id_0679a5111f" ON "panda_cms_block_content_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_block_contents" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_contents" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "panda_cms_page_id" uuid NOT NULL, "panda_cms_block_id" uuid NOT NULL, "content" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_block_id" ON "panda_cms_block_contents" ("panda_cms_block_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_page_id" ON "panda_cms_block_contents" ("panda_cms_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_blocks" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_blocks" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "kind" panda_cms_block_kind DEFAULT 'plain_text' NOT NULL, "name" character varying, "key" character varying, "panda_cms_template_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_blocks_on_panda_cms_template_id" ON "panda_cms_blocks" ("panda_cms_template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_form_submissions" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "panda_cms_form_submissions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "form_id" uuid NOT NULL, "data" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_form_submissions_on_form_id" ON "panda_cms_form_submissions" ("form_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_forms" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "panda_cms_forms" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "submission_count" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "completion_path" character varying)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_forms_on_name" ON "panda_cms_forms" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_menu_items" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "panda_cms_menu_items" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "text" character varying NOT NULL, "panda_cms_menu_id" uuid NOT NULL, "panda_cms_page_id" uuid, "external_url" character varying, "sort_order" integer DEFAULT 1, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "parent_id" uuid, "lft" integer, "rgt" integer, "depth" integer, "children_count" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_lft" ON "panda_cms_menu_items" ("lft")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_menu_id" ON "panda_cms_menu_items" ("panda_cms_menu_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_page_id" ON "panda_cms_menu_items" ("panda_cms_page_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_rgt" ON "panda_cms_menu_items" ("rgt")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_menus" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_menus" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "kind" panda_cms_menu_kind DEFAULT 'static' NOT NULL, "start_page_id" uuid)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_menus_on_name" ON "panda_cms_menus" ("name")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menus_on_start_page_id" ON "panda_cms_menus" ("start_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_page_versions" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_page_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_page_versions_on_item_type_and_item_id" ON "panda_cms_page_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_pages" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "panda_cms_pages" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "panda_cms_template_id" uuid NOT NULL, "parent_id" uuid, "lft" integer, "rgt" integer, "depth" integer, "children_count" integer DEFAULT 0 NOT NULL, "status" panda_cms_page_status DEFAULT 'active' NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_lft" ON "panda_cms_pages" ("lft")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_panda_cms_template_id" ON "panda_cms_pages" ("panda_cms_template_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_parent_id" ON "panda_cms_pages" ("parent_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_rgt" ON "panda_cms_pages" ("rgt")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_status" ON "panda_cms_pages" ("status")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_post_tags" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_tags" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "tag" character varying, "description" character varying, "slug" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_slug" ON "panda_cms_post_tags" ("slug")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_tag" ON "panda_cms_post_tags" ("tag")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_post_versions" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_post_versions_on_item_type_and_item_id" ON "panda_cms_post_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_posts" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "panda_cms_posts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "slug" character varying, "content" text, "published_at" timestamp(6), "post_tag_id" uuid NOT NULL, "user_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" panda_cms_post_status DEFAULT 'draft' NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_post_tag_id" ON "panda_cms_posts" ("post_tag_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_posts_on_slug" ON "panda_cms_posts" ("slug")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_status" ON "panda_cms_posts" ("status")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_user_id" ON "panda_cms_posts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_redirects" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_redirects" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "origin_path" character varying, "destination_path" character varying, "origin_panda_cms_page_id" uuid, "destination_panda_cms_page_id" uuid, "status_code" integer DEFAULT 301 NOT NULL, "visits" integer DEFAULT 0 NOT NULL, "last_visited_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_destination_panda_cms_page_id" ON "panda_cms_redirects" ("destination_panda_cms_page_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_origin_panda_cms_page_id" ON "panda_cms_redirects" ("origin_panda_cms_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_template_versions" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_template_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_template_versions_on_item_type_and_item_id" ON "panda_cms_template_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_templates" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_templates" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "file_path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "max_uses" integer, "pages_count" integer DEFAULT 0)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "firstname" character varying, "lastname" character varying, "email" character varying, "image_url" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_visits" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_visits" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "ip_address" character varying, "user_agent" character varying, "page_id" uuid, "redirect_id" uuid, "user_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referrer" character varying, "visited_at" timestamp(6), "url" character varying, "params" jsonb)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_page_id" ON "panda_cms_visits" ("page_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_redirect_id" ON "panda_cms_visits" ("redirect_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_user_id" ON "panda_cms_visits" ("user_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "panda_cms_block_contents" ADD CONSTRAINT "fk_rails_356aa7a5ab"
FOREIGN KEY ("panda_cms_block_id")
  REFERENCES "panda_cms_blocks" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_block_contents" ADD CONSTRAINT "fk_rails_a6b084725d"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_blocks" ADD CONSTRAINT "fk_rails_df785785c5"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_form_submissions" ADD CONSTRAINT "fk_rails_1a34a88889"
FOREIGN KEY ("form_id")
  REFERENCES "panda_cms_forms" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD CONSTRAINT "fk_rails_e0dd7e4191"
FOREIGN KEY ("panda_cms_menu_id")
  REFERENCES "panda_cms_menus" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD CONSTRAINT "fk_rails_4c61fc7499"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD CONSTRAINT "fk_rails_15852354cf"
FOREIGN KEY ("start_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_3ca2368c5a"
FOREIGN KEY ("parent_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_4d77d0709c"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD CONSTRAINT "fk_rails_c5f18cc73b"
FOREIGN KEY ("post_tag_id")
  REFERENCES "panda_cms_post_tags" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD CONSTRAINT "fk_rails_d1f9aa10f4"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_redirects" ADD CONSTRAINT "fk_rails_75d5b262c6"
FOREIGN KEY ("destination_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_redirects" ADD CONSTRAINT "fk_rails_f6681858f4"
FOREIGN KEY ("origin_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_ebb9380b0a"
FOREIGN KEY ("page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_b6a9c7a60a"
FOREIGN KEY ("redirect_id")
  REFERENCES "panda_cms_redirects" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_48ba603aa0"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240820081917)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-03 21:26:54.923056', '2024-10-03 21:26:54.923059') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'f2840a557a462b395661f6d6ee9fd49d3e1491ce', '2024-10-03 21:26:54.926333', '2024-10-03 21:26:54.926334') RETURNING "key"[0m
  [1m[35mSQL (16.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (1.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_block_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_block_kind" AS ENUM ('plain_text', 'rich_text', 'image', 'video', 'audio', 'file', 'code', 'iframe', 'quote', 'list', 'table', 'form');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_menu_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_menu_kind" AS ENUM ('static', 'auto');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_page_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_page_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_post_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_post_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (6.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_block_content_versions" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_content_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "idx_on_item_type_item_id_0679a5111f" ON "panda_cms_block_content_versions" ("item_type", "item_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_block_contents" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_contents" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "panda_cms_page_id" uuid NOT NULL, "panda_cms_block_id" uuid NOT NULL, "content" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_block_id" ON "panda_cms_block_contents" ("panda_cms_block_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_page_id" ON "panda_cms_block_contents" ("panda_cms_page_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_blocks" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "panda_cms_blocks" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "kind" panda_cms_block_kind DEFAULT 'plain_text' NOT NULL, "name" character varying, "key" character varying, "panda_cms_template_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_blocks_on_panda_cms_template_id" ON "panda_cms_blocks" ("panda_cms_template_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_form_submissions" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_form_submissions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "form_id" uuid NOT NULL, "data" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_form_submissions_on_form_id" ON "panda_cms_form_submissions" ("form_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_forms" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_forms" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "submission_count" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "completion_path" character varying)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_forms_on_name" ON "panda_cms_forms" ("name")[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_menu_items" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_menu_items" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "text" character varying NOT NULL, "panda_cms_menu_id" uuid NOT NULL, "panda_cms_page_id" uuid, "external_url" character varying, "sort_order" integer DEFAULT 1, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "parent_id" uuid, "lft" integer, "rgt" integer, "depth" integer, "children_count" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_lft" ON "panda_cms_menu_items" ("lft")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_menu_id" ON "panda_cms_menu_items" ("panda_cms_menu_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_page_id" ON "panda_cms_menu_items" ("panda_cms_page_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_rgt" ON "panda_cms_menu_items" ("rgt")[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_menus" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_menus" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "kind" panda_cms_menu_kind DEFAULT 'static' NOT NULL, "start_page_id" uuid)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_menus_on_name" ON "panda_cms_menus" ("name")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menus_on_start_page_id" ON "panda_cms_menus" ("start_page_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_page_versions" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_page_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_page_versions_on_item_type_and_item_id" ON "panda_cms_page_versions" ("item_type", "item_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_pages" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_pages" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "panda_cms_template_id" uuid NOT NULL, "parent_id" uuid, "lft" integer, "rgt" integer, "depth" integer, "children_count" integer DEFAULT 0 NOT NULL, "status" panda_cms_page_status DEFAULT 'active' NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_lft" ON "panda_cms_pages" ("lft")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_panda_cms_template_id" ON "panda_cms_pages" ("panda_cms_template_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_parent_id" ON "panda_cms_pages" ("parent_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_rgt" ON "panda_cms_pages" ("rgt")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_status" ON "panda_cms_pages" ("status")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_post_tags" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_tags" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "tag" character varying, "description" character varying, "slug" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_slug" ON "panda_cms_post_tags" ("slug")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_tag" ON "panda_cms_post_tags" ("tag")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_post_versions" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_post_versions_on_item_type_and_item_id" ON "panda_cms_post_versions" ("item_type", "item_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_posts" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_posts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "slug" character varying, "content" text, "published_at" timestamp(6), "post_tag_id" uuid NOT NULL, "user_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" panda_cms_post_status DEFAULT 'draft' NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_post_tag_id" ON "panda_cms_posts" ("post_tag_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_posts_on_slug" ON "panda_cms_posts" ("slug")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_status" ON "panda_cms_posts" ("status")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_user_id" ON "panda_cms_posts" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_redirects" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_redirects" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "origin_path" character varying, "destination_path" character varying, "origin_panda_cms_page_id" uuid, "destination_panda_cms_page_id" uuid, "status_code" integer DEFAULT 301 NOT NULL, "visits" integer DEFAULT 0 NOT NULL, "last_visited_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_destination_panda_cms_page_id" ON "panda_cms_redirects" ("destination_panda_cms_page_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_origin_panda_cms_page_id" ON "panda_cms_redirects" ("origin_panda_cms_page_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_template_versions" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_template_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_template_versions_on_item_type_and_item_id" ON "panda_cms_template_versions" ("item_type", "item_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_templates" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_templates" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "file_path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "max_uses" integer, "pages_count" integer DEFAULT 0)[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "firstname" character varying, "lastname" character varying, "email" character varying, "image_url" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_visits" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_visits" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "ip_address" character varying, "user_agent" character varying, "page_id" uuid, "redirect_id" uuid, "user_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referrer" character varying, "visited_at" timestamp(6), "url" character varying, "params" jsonb)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_page_id" ON "panda_cms_visits" ("page_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_redirect_id" ON "panda_cms_visits" ("redirect_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_user_id" ON "panda_cms_visits" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_block_contents" ADD CONSTRAINT "fk_rails_356aa7a5ab"
FOREIGN KEY ("panda_cms_block_id")
  REFERENCES "panda_cms_blocks" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_block_contents" ADD CONSTRAINT "fk_rails_a6b084725d"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_blocks" ADD CONSTRAINT "fk_rails_df785785c5"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_form_submissions" ADD CONSTRAINT "fk_rails_1a34a88889"
FOREIGN KEY ("form_id")
  REFERENCES "panda_cms_forms" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD CONSTRAINT "fk_rails_e0dd7e4191"
FOREIGN KEY ("panda_cms_menu_id")
  REFERENCES "panda_cms_menus" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD CONSTRAINT "fk_rails_4c61fc7499"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD CONSTRAINT "fk_rails_15852354cf"
FOREIGN KEY ("start_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_3ca2368c5a"
FOREIGN KEY ("parent_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_4d77d0709c"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD CONSTRAINT "fk_rails_c5f18cc73b"
FOREIGN KEY ("post_tag_id")
  REFERENCES "panda_cms_post_tags" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD CONSTRAINT "fk_rails_d1f9aa10f4"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_redirects" ADD CONSTRAINT "fk_rails_75d5b262c6"
FOREIGN KEY ("destination_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_redirects" ADD CONSTRAINT "fk_rails_f6681858f4"
FOREIGN KEY ("origin_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_ebb9380b0a"
FOREIGN KEY ("page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_b6a9c7a60a"
FOREIGN KEY ("redirect_id")
  REFERENCES "panda_cms_redirects" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_48ba603aa0"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-03 21:26:55.052146', '2024-10-03 21:26:55.052149') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-10-03 21:26:55.053021' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'f2840a557a462b395661f6d6ee9fd49d3e1491ce', '2024-10-03 21:26:55.053770', '2024-10-03 21:26:55.053771') RETURNING "key"[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"/admin/auth/github/callback", :enabled=>true}
Initializing websocket
Started GET "/" for ::1 at 2024-10-03 22:27:12 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PandaCms::PagesController#root as HTML
Started GET "/" for ::1 at 2024-10-03 22:27:13 +0100
  [1m[36mPandaCms::Page Load (0.5ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/"], ["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/404"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  Rendering public/404.html
  Rendered public/404.html (Duration: 0.2ms | GC: 0.0ms)
Completed 404 Not Found in 143ms (Views: 3.4ms | ActiveRecord: 3.3ms (2 queries, 0 cached) | GC: 1.2ms)


Processing by PandaCms::PagesController#root as HTML
  [1m[36mPandaCms::Page Load (0.5ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/"], ["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/404"], ["LIMIT", 1]]
  Rendering public/404.html
  Rendered public/404.html (Duration: 0.0ms | GC: 0.0ms)
Completed 404 Not Found in 106ms (Views: 1.9ms | ActiveRecord: 4.0ms (2 queries, 0 cached) | GC: 1.0ms)


Started GET "/favicon.ico" for ::1 at 2024-10-03 22:27:13 +0100
Processing by PandaCms::PagesController#show as */*
  Parameters: {"path"=>"favicon"}
  [1m[36mPandaCms::Page Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/favicon"], ["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/404"], ["LIMIT", 1]]
  Rendering public/404.html
  Rendered public/404.html (Duration: 0.1ms | GC: 0.0ms)
Completed 404 Not Found in 31ms (Views: 0.2ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2024-10-03 22:27:17 +0100
Processing by PandaCms::PagesController#root as HTML
  [1m[36mPandaCms::Page Load (0.3ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/"], ["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/404"], ["LIMIT", 1]]
  Rendering public/404.html
  Rendered public/404.html (Duration: 0.1ms | GC: 0.0ms)
Completed 404 Not Found in 28ms (Views: 0.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
Writing application-c6dbd6de.js
Writing controllers/hello_controller-0234a591.js
Writing controllers/index-d55c9516.js
Writing application.tailwind-5a27bc19.css
Writing manifest-46e6a649.js
Writing application-8b6ef523.css
Writing turbo.min-ea50fe8c.js.map
Writing turbo-f5f7a512.js
Writing turbo.min-ca600531.js
Writing panda_cms-650ca2b7.css
Writing panda_cms_manifest-b90105e1.js
Writing panda_cms/application.tailwind-8ff0540f.css
Writing prism.min-59bc34c1.js
Writing prism-42cc0795.css
Writing actiontext.esm-d774061d.js
Writing actiontext-ffa2d313.js
Writing trix-69c6b53d.js
Writing trix-c9f1aa5b.css
Writing action_cable-8a10591f.js
Writing actioncable.esm-e5c1e716.js
Writing actioncable-f4368b06.js
Writing activestorage.esm-3d1d942d.js
Writing activestorage-e376044f.js
Writing rails-ujs.esm-2f36ae4d.js
Writing rails-ujs-3de06f48.js
Writing panda_cms_editable-c42c7c23.js
Writing panda_cms-752624d3.js
Writing @hotwired--stimulus-loading-25917588.js
Writing controllers/slug_controller-179f7b72.js
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[36mActiveRecord::SchemaMigration Load (4.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (82.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (110.9ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (16.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (28.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_block_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_block_kind" AS ENUM ('plain_text', 'rich_text', 'image', 'video', 'audio', 'file', 'code', 'iframe', 'quote', 'list', 'table', 'form');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_menu_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_menu_kind" AS ENUM ('static', 'auto');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_page_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_page_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_post_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_post_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_block_content_versions" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_content_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_item_type_item_id_0679a5111f" ON "panda_cms_block_content_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_block_contents" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_contents" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "panda_cms_page_id" uuid NOT NULL, "panda_cms_block_id" uuid NOT NULL, "content" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_block_id" ON "panda_cms_block_contents" ("panda_cms_block_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_page_id" ON "panda_cms_block_contents" ("panda_cms_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_blocks" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "panda_cms_blocks" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "kind" panda_cms_block_kind DEFAULT 'plain_text' NOT NULL, "name" character varying, "key" character varying, "panda_cms_template_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_blocks_on_panda_cms_template_id" ON "panda_cms_blocks" ("panda_cms_template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_form_submissions" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_form_submissions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "form_id" uuid NOT NULL, "data" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_form_submissions_on_form_id" ON "panda_cms_form_submissions" ("form_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_forms" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_forms" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "submission_count" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "completion_path" character varying)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_forms_on_name" ON "panda_cms_forms" ("name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_menu_items" CASCADE[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_menu_items" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "text" character varying NOT NULL, "panda_cms_menu_id" uuid NOT NULL, "panda_cms_page_id" uuid, "external_url" character varying, "sort_order" integer DEFAULT 1, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "parent_id" uuid, "lft" integer, "rgt" integer, "depth" integer, "children_count" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_lft" ON "panda_cms_menu_items" ("lft")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_menu_id" ON "panda_cms_menu_items" ("panda_cms_menu_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_page_id" ON "panda_cms_menu_items" ("panda_cms_page_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_rgt" ON "panda_cms_menu_items" ("rgt")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_menus" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_menus" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "kind" panda_cms_menu_kind DEFAULT 'static' NOT NULL, "start_page_id" uuid)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_menus_on_name" ON "panda_cms_menus" ("name")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menus_on_start_page_id" ON "panda_cms_menus" ("start_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_page_versions" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_page_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_page_versions_on_item_type_and_item_id" ON "panda_cms_page_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_pages" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_pages" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "panda_cms_template_id" uuid NOT NULL, "parent_id" uuid, "lft" integer, "rgt" integer, "depth" integer, "children_count" integer DEFAULT 0 NOT NULL, "status" panda_cms_page_status DEFAULT 'active' NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_lft" ON "panda_cms_pages" ("lft")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_panda_cms_template_id" ON "panda_cms_pages" ("panda_cms_template_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_parent_id" ON "panda_cms_pages" ("parent_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_rgt" ON "panda_cms_pages" ("rgt")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_status" ON "panda_cms_pages" ("status")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_post_tags" CASCADE[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_tags" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "tag" character varying, "description" character varying, "slug" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_slug" ON "panda_cms_post_tags" ("slug")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_tag" ON "panda_cms_post_tags" ("tag")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_post_versions" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_post_versions_on_item_type_and_item_id" ON "panda_cms_post_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_posts" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_posts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "slug" character varying, "content" text, "published_at" timestamp(6), "post_tag_id" uuid NOT NULL, "user_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" panda_cms_post_status DEFAULT 'draft' NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_post_tag_id" ON "panda_cms_posts" ("post_tag_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_posts_on_slug" ON "panda_cms_posts" ("slug")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_status" ON "panda_cms_posts" ("status")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_user_id" ON "panda_cms_posts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_redirects" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_redirects" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "origin_path" character varying, "destination_path" character varying, "origin_panda_cms_page_id" uuid, "destination_panda_cms_page_id" uuid, "status_code" integer DEFAULT 301 NOT NULL, "visits" integer DEFAULT 0 NOT NULL, "last_visited_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_destination_panda_cms_page_id" ON "panda_cms_redirects" ("destination_panda_cms_page_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_origin_panda_cms_page_id" ON "panda_cms_redirects" ("origin_panda_cms_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_template_versions" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_template_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_template_versions_on_item_type_and_item_id" ON "panda_cms_template_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_templates" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_templates" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "file_path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "max_uses" integer, "pages_count" integer DEFAULT 0)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_users" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "firstname" character varying, "lastname" character varying, "email" character varying, "image_url" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_visits" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_visits" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "ip_address" character varying, "user_agent" character varying, "page_id" uuid, "redirect_id" uuid, "user_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referrer" character varying, "visited_at" timestamp(6), "url" character varying, "params" jsonb)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_page_id" ON "panda_cms_visits" ("page_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_redirect_id" ON "panda_cms_visits" ("redirect_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_user_id" ON "panda_cms_visits" ("user_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_block_contents" ADD CONSTRAINT "fk_rails_356aa7a5ab"
FOREIGN KEY ("panda_cms_block_id")
  REFERENCES "panda_cms_blocks" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_block_contents" ADD CONSTRAINT "fk_rails_a6b084725d"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_blocks" ADD CONSTRAINT "fk_rails_df785785c5"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_form_submissions" ADD CONSTRAINT "fk_rails_1a34a88889"
FOREIGN KEY ("form_id")
  REFERENCES "panda_cms_forms" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD CONSTRAINT "fk_rails_e0dd7e4191"
FOREIGN KEY ("panda_cms_menu_id")
  REFERENCES "panda_cms_menus" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD CONSTRAINT "fk_rails_4c61fc7499"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD CONSTRAINT "fk_rails_15852354cf"
FOREIGN KEY ("start_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_3ca2368c5a"
FOREIGN KEY ("parent_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_4d77d0709c"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD CONSTRAINT "fk_rails_c5f18cc73b"
FOREIGN KEY ("post_tag_id")
  REFERENCES "panda_cms_post_tags" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD CONSTRAINT "fk_rails_d1f9aa10f4"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_redirects" ADD CONSTRAINT "fk_rails_75d5b262c6"
FOREIGN KEY ("destination_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_redirects" ADD CONSTRAINT "fk_rails_f6681858f4"
FOREIGN KEY ("origin_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_ebb9380b0a"
FOREIGN KEY ("page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_b6a9c7a60a"
FOREIGN KEY ("redirect_id")
  REFERENCES "panda_cms_redirects" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_48ba603aa0"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240820081917)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240806204412),
(20240806112735),
(20240805123104),
(20240805121123),
(20240805013612),
(20240804235210),
(20240804110225),
(20240701225424),
(20240701225423),
(20240701225422),
(20240408084718),
(20240324205703),
(20240317230622),
(20240317214827),
(20240317163053),
(20240317161534),
(20240317010532),
(20240316230706),
(20240316221425),
(20240316212822),
(20240315125421),
(20240304134343),
(20240303234724),
(20240303233238),
(20240303024746),
(20240303024256),
(20240303022441),
(20240303003434),
(20240303002805),
(20240219213327),
(20240205223709);[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-14 00:19:09.728069', '2024-10-14 00:19:09.728074') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-10-14 00:19:09.729060' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'f2840a557a462b395661f6d6ee9fd49d3e1491ce', '2024-10-14 00:19:09.729650', '2024-10-14 00:19:09.729650') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (33.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (51.3ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (12.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_block_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_block_kind" AS ENUM ('plain_text', 'rich_text', 'image', 'video', 'audio', 'file', 'code', 'iframe', 'quote', 'list', 'table', 'form');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_menu_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_menu_kind" AS ENUM ('static', 'auto');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_page_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_page_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_post_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_post_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_block_content_versions" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_content_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "idx_on_item_type_item_id_0679a5111f" ON "panda_cms_block_content_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_block_contents" CASCADE[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_contents" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "panda_cms_page_id" uuid NOT NULL, "panda_cms_block_id" uuid NOT NULL, "content" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_block_id" ON "panda_cms_block_contents" ("panda_cms_block_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_page_id" ON "panda_cms_block_contents" ("panda_cms_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_blocks" CASCADE[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_blocks" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "kind" panda_cms_block_kind DEFAULT 'plain_text' NOT NULL, "name" character varying, "key" character varying, "panda_cms_template_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_blocks_on_panda_cms_template_id" ON "panda_cms_blocks" ("panda_cms_template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_form_submissions" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_form_submissions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "form_id" uuid NOT NULL, "data" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_form_submissions_on_form_id" ON "panda_cms_form_submissions" ("form_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_forms" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_forms" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "submission_count" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "completion_path" character varying)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_forms_on_name" ON "panda_cms_forms" ("name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_menu_items" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_menu_items" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "text" character varying NOT NULL, "panda_cms_menu_id" uuid NOT NULL, "panda_cms_page_id" uuid, "external_url" character varying, "sort_order" integer DEFAULT 1, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "parent_id" uuid, "lft" integer, "rgt" integer, "depth" integer, "children_count" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_lft" ON "panda_cms_menu_items" ("lft")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_menu_id" ON "panda_cms_menu_items" ("panda_cms_menu_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_page_id" ON "panda_cms_menu_items" ("panda_cms_page_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_rgt" ON "panda_cms_menu_items" ("rgt")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_menus" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_menus" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "kind" panda_cms_menu_kind DEFAULT 'static' NOT NULL, "start_page_id" uuid)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_menus_on_name" ON "panda_cms_menus" ("name")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menus_on_start_page_id" ON "panda_cms_menus" ("start_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_page_versions" CASCADE[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_page_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_page_versions_on_item_type_and_item_id" ON "panda_cms_page_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_pages" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_pages" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "panda_cms_template_id" uuid NOT NULL, "parent_id" uuid, "lft" integer, "rgt" integer, "depth" integer, "children_count" integer DEFAULT 0 NOT NULL, "status" panda_cms_page_status DEFAULT 'active' NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_lft" ON "panda_cms_pages" ("lft")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_panda_cms_template_id" ON "panda_cms_pages" ("panda_cms_template_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_parent_id" ON "panda_cms_pages" ("parent_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_rgt" ON "panda_cms_pages" ("rgt")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_status" ON "panda_cms_pages" ("status")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_post_tags" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_tags" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "tag" character varying, "description" character varying, "slug" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_slug" ON "panda_cms_post_tags" ("slug")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_tag" ON "panda_cms_post_tags" ("tag")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_post_versions" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_post_versions_on_item_type_and_item_id" ON "panda_cms_post_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_posts" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_posts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "slug" character varying, "content" text, "published_at" timestamp(6), "post_tag_id" uuid NOT NULL, "user_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "status" panda_cms_post_status DEFAULT 'draft' NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_post_tag_id" ON "panda_cms_posts" ("post_tag_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_posts_on_slug" ON "panda_cms_posts" ("slug")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_status" ON "panda_cms_posts" ("status")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_user_id" ON "panda_cms_posts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_redirects" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_redirects" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "origin_path" character varying, "destination_path" character varying, "origin_panda_cms_page_id" uuid, "destination_panda_cms_page_id" uuid, "status_code" integer DEFAULT 301 NOT NULL, "visits" integer DEFAULT 0 NOT NULL, "last_visited_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_destination_panda_cms_page_id" ON "panda_cms_redirects" ("destination_panda_cms_page_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_origin_panda_cms_page_id" ON "panda_cms_redirects" ("origin_panda_cms_page_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_template_versions" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_template_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_template_versions_on_item_type_and_item_id" ON "panda_cms_template_versions" ("item_type", "item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_templates" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_templates" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "file_path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "max_uses" integer, "pages_count" integer DEFAULT 0)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "firstname" character varying, "lastname" character varying, "email" character varying, "image_url" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "panda_cms_visits" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_visits" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "ip_address" character varying, "user_agent" character varying, "page_id" uuid, "redirect_id" uuid, "user_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referrer" character varying, "visited_at" timestamp(6), "url" character varying, "params" jsonb)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_page_id" ON "panda_cms_visits" ("page_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_redirect_id" ON "panda_cms_visits" ("redirect_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_user_id" ON "panda_cms_visits" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_block_contents" ADD CONSTRAINT "fk_rails_356aa7a5ab"
FOREIGN KEY ("panda_cms_block_id")
  REFERENCES "panda_cms_blocks" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_block_contents" ADD CONSTRAINT "fk_rails_a6b084725d"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_blocks" ADD CONSTRAINT "fk_rails_df785785c5"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_form_submissions" ADD CONSTRAINT "fk_rails_1a34a88889"
FOREIGN KEY ("form_id")
  REFERENCES "panda_cms_forms" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD CONSTRAINT "fk_rails_e0dd7e4191"
FOREIGN KEY ("panda_cms_menu_id")
  REFERENCES "panda_cms_menus" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD CONSTRAINT "fk_rails_4c61fc7499"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD CONSTRAINT "fk_rails_15852354cf"
FOREIGN KEY ("start_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_3ca2368c5a"
FOREIGN KEY ("parent_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_4d77d0709c"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD CONSTRAINT "fk_rails_c5f18cc73b"
FOREIGN KEY ("post_tag_id")
  REFERENCES "panda_cms_post_tags" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD CONSTRAINT "fk_rails_d1f9aa10f4"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_redirects" ADD CONSTRAINT "fk_rails_75d5b262c6"
FOREIGN KEY ("destination_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_redirects" ADD CONSTRAINT "fk_rails_f6681858f4"
FOREIGN KEY ("origin_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_ebb9380b0a"
FOREIGN KEY ("page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_b6a9c7a60a"
FOREIGN KEY ("redirect_id")
  REFERENCES "panda_cms_redirects" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD CONSTRAINT "fk_rails_48ba603aa0"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240820081917)[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (123.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_development"[0m
  [1m[35m (36.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (12.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_development"[0m
  [1m[35m (12.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (91.3ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (62.8ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-14 00:20:22.264516', '2024-10-14 00:20:22.264520') RETURNING "key"[0m
Migrating to CreatePandaCmsPages (20240205223709)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_pages" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240205223709') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPageVersions (20240219213327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "panda_cms_page_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_page_versions_on_item_type_and_item_id" ON "panda_cms_page_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240219213327') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsTemplates (20240303002805)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_templates" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "file_path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "panda_cms_template_id" uuid NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_panda_cms_template_id" ON "panda_cms_pages" ("panda_cms_template_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_4d77d0709c"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303002805') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsTemplateVersions (20240303003434)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_template_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_template_versions_on_item_type_and_item_id" ON "panda_cms_template_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303003434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlocks (20240303022441)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_block_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_block_kind" AS ENUM ('plain_text', 'rich_text', 'image', 'video', 'audio', 'file', 'code', 'iframe', 'quote', 'list', 'table', 'form');
    END IF;
END
$$;
[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_blocks" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "kind" panda_cms_block_kind DEFAULT 'plain_text' NOT NULL, "name" character varying, "key" character varying, "panda_cms_template_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_df785785c5"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_blocks_on_panda_cms_template_id" ON "panda_cms_blocks" ("panda_cms_template_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303022441') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlockContents (20240303024256)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_contents" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "panda_cms_page_id" uuid NOT NULL, "panda_cms_block_id" uuid NOT NULL, "content" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a6b084725d"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_356aa7a5ab"
FOREIGN KEY ("panda_cms_block_id")
  REFERENCES "panda_cms_blocks" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_page_id" ON "panda_cms_block_contents" ("panda_cms_page_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_block_id" ON "panda_cms_block_contents" ("panda_cms_block_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303024256') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlockContentVersions (20240303024746)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_content_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "idx_on_item_type_item_id_0679a5111f" ON "panda_cms_block_content_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303024746') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPandaCmsMenuTable (20240303233238)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "panda_cms_menus" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_menus_on_name" ON "panda_cms_menus" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303233238') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPandaCmsMenuItemTable (20240303234724)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_menu_items" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "text" character varying NOT NULL, "panda_cms_menu_id" uuid NOT NULL, "panda_cms_page_id" uuid, "external_url" character varying, "sort_order" integer DEFAULT 1, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e0dd7e4191"
FOREIGN KEY ("panda_cms_menu_id")
  REFERENCES "panda_cms_menus" ("id")
, CONSTRAINT "fk_rails_4c61fc7499"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_menu_id" ON "panda_cms_menu_items" ("panda_cms_menu_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_page_id" ON "panda_cms_menu_items" ("panda_cms_page_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303234724') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddParentIdToPandaCmsPages (20240304134343)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "parent_id" uuid[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_parent_id" ON "panda_cms_pages" ("parent_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_3ca2368c5a"
FOREIGN KEY ("parent_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240304134343') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedSetsToPandaCmsPages (20240315125421)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddNestedSetsToPandaCmsPages (20240315125421)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (78.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_development"[0m
  [1m[35m (28.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (14.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_development"[0m
  [1m[35m (10.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (76.0ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (61.9ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-14 00:26:27.952333', '2024-10-14 00:26:27.952338') RETURNING "key"[0m
Migrating to CreatePandaCmsPages (20240205223709)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "panda_cms_pages" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240205223709') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPageVersions (20240219213327)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_page_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_page_versions_on_item_type_and_item_id" ON "panda_cms_page_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240219213327') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsTemplates (20240303002805)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_templates" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "file_path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "panda_cms_template_id" uuid NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_panda_cms_template_id" ON "panda_cms_pages" ("panda_cms_template_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_4d77d0709c"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303002805') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsTemplateVersions (20240303003434)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "panda_cms_template_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_template_versions_on_item_type_and_item_id" ON "panda_cms_template_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303003434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlocks (20240303022441)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_block_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_block_kind" AS ENUM ('plain_text', 'rich_text', 'image', 'video', 'audio', 'file', 'code', 'iframe', 'quote', 'list', 'table', 'form');
    END IF;
END
$$;
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_blocks" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "kind" panda_cms_block_kind DEFAULT 'plain_text' NOT NULL, "name" character varying, "key" character varying, "panda_cms_template_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_df785785c5"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_blocks_on_panda_cms_template_id" ON "panda_cms_blocks" ("panda_cms_template_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303022441') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlockContents (20240303024256)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_contents" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "panda_cms_page_id" uuid NOT NULL, "panda_cms_block_id" uuid NOT NULL, "content" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a6b084725d"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_356aa7a5ab"
FOREIGN KEY ("panda_cms_block_id")
  REFERENCES "panda_cms_blocks" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_page_id" ON "panda_cms_block_contents" ("panda_cms_page_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_block_id" ON "panda_cms_block_contents" ("panda_cms_block_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303024256') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlockContentVersions (20240303024746)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_content_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_item_type_item_id_0679a5111f" ON "panda_cms_block_content_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303024746') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPandaCmsMenuTable (20240303233238)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_menus" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_menus_on_name" ON "panda_cms_menus" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303233238') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPandaCmsMenuItemTable (20240303234724)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_menu_items" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "text" character varying NOT NULL, "panda_cms_menu_id" uuid NOT NULL, "panda_cms_page_id" uuid, "external_url" character varying, "sort_order" integer DEFAULT 1, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e0dd7e4191"
FOREIGN KEY ("panda_cms_menu_id")
  REFERENCES "panda_cms_menus" ("id")
, CONSTRAINT "fk_rails_4c61fc7499"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_menu_id" ON "panda_cms_menu_items" ("panda_cms_menu_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_page_id" ON "panda_cms_menu_items" ("panda_cms_page_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303234724') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddParentIdToPandaCmsPages (20240304134343)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "parent_id" uuid[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_parent_id" ON "panda_cms_pages" ("parent_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_3ca2368c5a"
FOREIGN KEY ("parent_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240304134343') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedSetsToPandaCmsPages (20240315125421)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddNestedSetsToPandaCmsPages (20240315125421)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddStatusToPandaCmsPages (20240312141232)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_page_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_page_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "status" panda_cms_page_status DEFAULT 'active' NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_status" ON "panda_cms_pages" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240312141232') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedSetsToPandaCmsPages (20240315125421)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPandaCms::Page Update All (1.1ms)[0m  [1m[33mUPDATE "panda_cms_pages" SET "parent_id" = $1 WHERE "panda_cms_pages"."parent_id" = $2[0m  [["parent_id", nil], ["parent_id", nil]]
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "lft" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "rgt" integer[0m
  [1m[36mPandaCms::Page Count (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_pages" LEFT OUTER JOIN "panda_cms_pages" "parent" ON "parent"."id" = "panda_cms_pages"."parent_id" WHERE ((("panda_cms_pages"."lft" IS NULL OR "panda_cms_pages"."rgt" IS NULL) OR "panda_cms_pages"."lft" >= "panda_cms_pages"."rgt") OR "panda_cms_pages"."parent_id" IS NOT NULL AND ("panda_cms_pages"."lft" <= "parent"."lft" OR "panda_cms_pages"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::Page Load (0.3ms)[0m  [1m[34mSELECT "panda_cms_pages"."lft", COUNT("panda_cms_pages"."lft") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."lft", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."lft") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_pages"."rgt", COUNT("panda_cms_pages"."rgt") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."rgt", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."rgt") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."parent_id" IS NULL ORDER BY lft[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240315125421') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKindToPandaCmsMenus (20240316212822)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_menu_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_menu_kind" AS ENUM ('static', 'auto');
    END IF;
END
$$;
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "kind" panda_cms_menu_kind DEFAULT 'static' NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316212822') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStartPageToPandaCmsMenus (20240316221425)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "start_page_id" uuid[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menus_on_start_page_id" ON "panda_cms_menus" ("start_page_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD CONSTRAINT "fk_rails_15852354cf"
FOREIGN KEY ("start_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316221425') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedToPandaCmsMenuItems (20240316230706)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "parent_id" uuid[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "lft" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "rgt" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "depth" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "children_count" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_lft" ON "panda_cms_menu_items" ("lft")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_rgt" ON "panda_cms_menu_items" ("rgt")[0m
  [1m[36mPandaCms::MenuItem Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_menu_items" LEFT OUTER JOIN "panda_cms_menu_items" "parent" ON "parent"."id" = "panda_cms_menu_items"."parent_id" WHERE ((("panda_cms_menu_items"."lft" IS NULL OR "panda_cms_menu_items"."rgt" IS NULL) OR "panda_cms_menu_items"."lft" >= "panda_cms_menu_items"."rgt") OR "panda_cms_menu_items"."parent_id" IS NOT NULL AND ("panda_cms_menu_items"."lft" <= "parent"."lft" OR "panda_cms_menu_items"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::MenuItem Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_menu_id", "panda_cms_menu_items"."lft", COUNT("panda_cms_menu_items"."lft") as _count FROM "panda_cms_menu_items" GROUP BY "panda_cms_menu_id", "panda_cms_menu_items"."lft", "panda_cms_menu_items"."id" HAVING (COUNT("panda_cms_menu_items"."lft") > 1) ORDER BY "panda_cms_menu_items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::MenuItem Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_menu_id", "panda_cms_menu_items"."rgt", COUNT("panda_cms_menu_items"."rgt") as _count FROM "panda_cms_menu_items" GROUP BY "panda_cms_menu_id", "panda_cms_menu_items"."rgt", "panda_cms_menu_items"."id" HAVING (COUNT("panda_cms_menu_items"."rgt") > 1) ORDER BY "panda_cms_menu_items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::MenuItem Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_menu_items".* FROM "panda_cms_menu_items" WHERE "panda_cms_menu_items"."parent_id" IS NULL ORDER BY lft[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "depth" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "children_count" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_lft" ON "panda_cms_pages" ("lft")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_rgt" ON "panda_cms_pages" ("rgt")[0m
  [1m[36mPandaCms::Page Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_pages" LEFT OUTER JOIN "panda_cms_pages" "parent" ON "parent"."id" = "panda_cms_pages"."parent_id" WHERE ((("panda_cms_pages"."lft" IS NULL OR "panda_cms_pages"."rgt" IS NULL) OR "panda_cms_pages"."lft" >= "panda_cms_pages"."rgt") OR "panda_cms_pages"."parent_id" IS NOT NULL AND ("panda_cms_pages"."lft" <= "parent"."lft" OR "panda_cms_pages"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::Page Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_pages"."lft", COUNT("panda_cms_pages"."lft") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."lft", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."lft") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages"."rgt", COUNT("panda_cms_pages"."rgt") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."rgt", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."rgt") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."parent_id" IS NULL ORDER BY lft[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316230706') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsUsers (20240317010532)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "panda_cms_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "firstname" character varying, "lastname" character varying, "email" character varying, "image_url" character varying, "admin" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317010532') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMaxUsesToPandaCmsTemplate (20240317161534)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_templates" ADD "max_uses" integer DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_templates" ADD "pages_count" integer DEFAULT 0[0m
  [1m[36mPandaCms::Template Load (0.3ms)[0m  [1m[34mSELECT "panda_cms_templates".* FROM "panda_cms_templates" WHERE "panda_cms_templates"."name" = $1 LIMIT $2[0m  [["name", "Homepage"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317161534') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ResetCounterCacheOnPandaCmsTemplate (20240317163053)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPandaCms::Template Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_templates".* FROM "panda_cms_templates" ORDER BY "panda_cms_templates"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317163053') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsRedirects (20240317214827)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "panda_cms_redirects" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "origin_path" character varying, "destination_path" character varying, "origin_panda_cms_page_id" uuid, "destination_panda_cms_page_id" uuid, "status_code" integer DEFAULT 301 NOT NULL, "visits" integer DEFAULT 0 NOT NULL, "last_visited_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f6681858f4"
FOREIGN KEY ("origin_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_75d5b262c6"
FOREIGN KEY ("destination_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_origin_panda_cms_page_id" ON "panda_cms_redirects" ("origin_panda_cms_page_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_destination_panda_cms_page_id" ON "panda_cms_redirects" ("destination_panda_cms_page_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317214827') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsVisits (20240317230622)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "panda_cms_visits" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "ip_address" character varying, "user_agent" character varying, "panda_cms_page_id" uuid, "panda_cms_redirect_id" uuid, "panda_cms_user_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1e5d13f78e"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_b9aec2b098"
FOREIGN KEY ("panda_cms_redirect_id")
  REFERENCES "panda_cms_redirects" ("id")
, CONSTRAINT "fk_rails_a52e2a2dfb"
FOREIGN KEY ("panda_cms_user_id")
  REFERENCES "panda_cms_users" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_page_id" ON "panda_cms_visits" ("panda_cms_page_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_redirect_id" ON "panda_cms_visits" ("panda_cms_redirect_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_user_id" ON "panda_cms_visits" ("panda_cms_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317230622') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20240324205703)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324205703') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to DefaultPandaCmsUsersAdminToFalse (20240408084718)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_users" ALTER COLUMN "admin" TYPE boolean, ALTER COLUMN "admin" SET DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240408084718') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddServiceNameToActiveStorageBlobs (20240701225422)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225422') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageVariantRecords (20240701225423)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE IF NOT EXISTS "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX IF NOT EXISTS "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225423') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240701225424)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "active_storage_blobs" ALTER COLUMN "checksum" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225424') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsForms (20240804235210)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_forms" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "submissions" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_forms_on_name" ON "panda_cms_forms" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240804235210') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsFormSubmissions (20240805013612)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_form_submissions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "form_id" uuid NOT NULL, "data" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1a34a88889"
FOREIGN KEY ("form_id")
  REFERENCES "panda_cms_forms" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_form_submissions_on_form_id" ON "panda_cms_form_submissions" ("form_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805013612') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPosts (20240805121123)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_tags" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "tag" character varying, "description" character varying, "slug" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_tag" ON "panda_cms_post_tags" ("tag")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_slug" ON "panda_cms_post_tags" ("slug")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "panda_cms_posts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "slug" character varying, "content" text, "published_at" timestamp(6), "post_tag_id" uuid NOT NULL, "user_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c5f18cc73b"
FOREIGN KEY ("post_tag_id")
  REFERENCES "panda_cms_post_tags" ("id")
, CONSTRAINT "fk_rails_d1f9aa10f4"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_post_tag_id" ON "panda_cms_posts" ("post_tag_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_user_id" ON "panda_cms_posts" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_posts_on_slug" ON "panda_cms_posts" ("slug")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_post_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_post_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD "status" panda_cms_post_status DEFAULT 'draft' NOT NULL[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_status" ON "panda_cms_posts" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805121123') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPostVersions (20240805123104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_post_versions_on_item_type_and_item_id" ON "panda_cms_post_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805123104') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixPandaCmsVisitsColumnNames (20240806112735)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_page_id" TO "page_id"[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_page_id" RENAME TO "index_panda_cms_visits_on_page_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_redirect_id" TO "redirect_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_redirect_id" RENAME TO "index_panda_cms_visits_on_redirect_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_user_id" TO "user_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_user_id" RENAME TO "index_panda_cms_visits_on_user_id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "referrer" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "visited_at" timestamp(6)[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "url" character varying[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "params" jsonb[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240806112735') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCompletionPathToPandaCmsForms (20240806204412)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_forms" ADD "completion_path" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240806204412') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeFormSubmissionsToSubmissionCount (20240820081917)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "panda_cms_forms" RENAME COLUMN "submissions" TO "submission_count"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240820081917') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActionTextTables (20240904200605)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "action_text_rich_texts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "body" text, "record_type" character varying NOT NULL, "record_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_action_text_rich_texts_uniqueness" ON "action_text_rich_texts" ("record_type", "record_id", "name")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "action_text_rich_text_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_action_text_rich_text_versions_on_item_type_and_item_id" ON "action_text_rich_text_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240904200605') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDepthToPandaCmsMenus (20240923234535)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "depth" integer DEFAULT NULL[0m
  [1m[36mPandaCms::Page Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240923234535') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (50.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_development"[0m
  [1m[35m (32.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (11.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_development"[0m
  [1m[35m (11.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (101.2ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (58.5ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-14 00:30:15.059127', '2024-10-14 00:30:15.059130') RETURNING "key"[0m
Migrating to CreatePandaCmsPages (20240205223709)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "panda_cms_pages" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240205223709') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPageVersions (20240219213327)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "panda_cms_page_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_page_versions_on_item_type_and_item_id" ON "panda_cms_page_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240219213327') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsTemplates (20240303002805)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_templates" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "file_path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "panda_cms_template_id" uuid NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_panda_cms_template_id" ON "panda_cms_pages" ("panda_cms_template_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_4d77d0709c"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303002805') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsTemplateVersions (20240303003434)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "panda_cms_template_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_template_versions_on_item_type_and_item_id" ON "panda_cms_template_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303003434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlocks (20240303022441)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_block_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_block_kind" AS ENUM ('plain_text', 'rich_text', 'image', 'video', 'audio', 'file', 'code', 'iframe', 'quote', 'list', 'table', 'form');
    END IF;
END
$$;
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_blocks" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "kind" panda_cms_block_kind DEFAULT 'plain_text' NOT NULL, "name" character varying, "key" character varying, "panda_cms_template_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_df785785c5"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_blocks_on_panda_cms_template_id" ON "panda_cms_blocks" ("panda_cms_template_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303022441') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlockContents (20240303024256)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_contents" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "panda_cms_page_id" uuid NOT NULL, "panda_cms_block_id" uuid NOT NULL, "content" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a6b084725d"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_356aa7a5ab"
FOREIGN KEY ("panda_cms_block_id")
  REFERENCES "panda_cms_blocks" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_page_id" ON "panda_cms_block_contents" ("panda_cms_page_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_block_id" ON "panda_cms_block_contents" ("panda_cms_block_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303024256') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlockContentVersions (20240303024746)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_content_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "idx_on_item_type_item_id_0679a5111f" ON "panda_cms_block_content_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303024746') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPandaCmsMenuTable (20240303233238)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "panda_cms_menus" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_menus_on_name" ON "panda_cms_menus" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303233238') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPandaCmsMenuItemTable (20240303234724)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_menu_items" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "text" character varying NOT NULL, "panda_cms_menu_id" uuid NOT NULL, "panda_cms_page_id" uuid, "external_url" character varying, "sort_order" integer DEFAULT 1, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e0dd7e4191"
FOREIGN KEY ("panda_cms_menu_id")
  REFERENCES "panda_cms_menus" ("id")
, CONSTRAINT "fk_rails_4c61fc7499"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_menu_id" ON "panda_cms_menu_items" ("panda_cms_menu_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_page_id" ON "panda_cms_menu_items" ("panda_cms_page_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303234724') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddParentIdToPandaCmsPages (20240304134343)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "parent_id" uuid[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_parent_id" ON "panda_cms_pages" ("parent_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_3ca2368c5a"
FOREIGN KEY ("parent_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240304134343') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToPandaCmsPages (20240312141232)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_page_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_page_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "status" panda_cms_page_status DEFAULT 'active' NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_status" ON "panda_cms_pages" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240312141232') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedSetsToPandaCmsPages (20240315125421)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPandaCms::Page Update All (0.4ms)[0m  [1m[33mUPDATE "panda_cms_pages" SET "parent_id" = $1 WHERE "panda_cms_pages"."parent_id" = $2[0m  [["parent_id", nil], ["parent_id", nil]]
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "lft" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "rgt" integer[0m
  [1m[36mPandaCms::Page Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_pages" LEFT OUTER JOIN "panda_cms_pages" "parent" ON "parent"."id" = "panda_cms_pages"."parent_id" WHERE ((("panda_cms_pages"."lft" IS NULL OR "panda_cms_pages"."rgt" IS NULL) OR "panda_cms_pages"."lft" >= "panda_cms_pages"."rgt") OR "panda_cms_pages"."parent_id" IS NOT NULL AND ("panda_cms_pages"."lft" <= "parent"."lft" OR "panda_cms_pages"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::Page Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_pages"."lft", COUNT("panda_cms_pages"."lft") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."lft", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."lft") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages"."rgt", COUNT("panda_cms_pages"."rgt") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."rgt", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."rgt") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."parent_id" IS NULL ORDER BY lft[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240315125421') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKindToPandaCmsMenus (20240316212822)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_menu_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_menu_kind" AS ENUM ('static', 'auto');
    END IF;
END
$$;
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "kind" panda_cms_menu_kind DEFAULT 'static' NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316212822') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStartPageToPandaCmsMenus (20240316221425)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "start_page_id" uuid[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menus_on_start_page_id" ON "panda_cms_menus" ("start_page_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD CONSTRAINT "fk_rails_15852354cf"
FOREIGN KEY ("start_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316221425') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedToPandaCmsMenuItems (20240316230706)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "parent_id" uuid[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "lft" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "rgt" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "depth" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "children_count" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_lft" ON "panda_cms_menu_items" ("lft")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_rgt" ON "panda_cms_menu_items" ("rgt")[0m
  [1m[36mPandaCms::MenuItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_menu_items" LEFT OUTER JOIN "panda_cms_menu_items" "parent" ON "parent"."id" = "panda_cms_menu_items"."parent_id" WHERE ((("panda_cms_menu_items"."lft" IS NULL OR "panda_cms_menu_items"."rgt" IS NULL) OR "panda_cms_menu_items"."lft" >= "panda_cms_menu_items"."rgt") OR "panda_cms_menu_items"."parent_id" IS NOT NULL AND ("panda_cms_menu_items"."lft" <= "parent"."lft" OR "panda_cms_menu_items"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::MenuItem Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_menu_id", "panda_cms_menu_items"."lft", COUNT("panda_cms_menu_items"."lft") as _count FROM "panda_cms_menu_items" GROUP BY "panda_cms_menu_id", "panda_cms_menu_items"."lft", "panda_cms_menu_items"."id" HAVING (COUNT("panda_cms_menu_items"."lft") > 1) ORDER BY "panda_cms_menu_items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::MenuItem Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_menu_id", "panda_cms_menu_items"."rgt", COUNT("panda_cms_menu_items"."rgt") as _count FROM "panda_cms_menu_items" GROUP BY "panda_cms_menu_id", "panda_cms_menu_items"."rgt", "panda_cms_menu_items"."id" HAVING (COUNT("panda_cms_menu_items"."rgt") > 1) ORDER BY "panda_cms_menu_items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::MenuItem Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_menu_items".* FROM "panda_cms_menu_items" WHERE "panda_cms_menu_items"."parent_id" IS NULL ORDER BY lft[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "depth" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "children_count" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_lft" ON "panda_cms_pages" ("lft")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_rgt" ON "panda_cms_pages" ("rgt")[0m
  [1m[36mPandaCms::Page Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_pages" LEFT OUTER JOIN "panda_cms_pages" "parent" ON "parent"."id" = "panda_cms_pages"."parent_id" WHERE ((("panda_cms_pages"."lft" IS NULL OR "panda_cms_pages"."rgt" IS NULL) OR "panda_cms_pages"."lft" >= "panda_cms_pages"."rgt") OR "panda_cms_pages"."parent_id" IS NOT NULL AND ("panda_cms_pages"."lft" <= "parent"."lft" OR "panda_cms_pages"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages"."lft", COUNT("panda_cms_pages"."lft") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."lft", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."lft") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages"."rgt", COUNT("panda_cms_pages"."rgt") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."rgt", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."rgt") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."parent_id" IS NULL ORDER BY lft[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316230706') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsUsers (20240317010532)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "firstname" character varying, "lastname" character varying, "email" character varying, "image_url" character varying, "admin" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317010532') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMaxUsesToPandaCmsTemplate (20240317161534)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_templates" ADD "max_uses" integer DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_templates" ADD "pages_count" integer DEFAULT 0[0m
  [1m[36mPandaCms::Template Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_templates".* FROM "panda_cms_templates" WHERE "panda_cms_templates"."name" = $1 LIMIT $2[0m  [["name", "Homepage"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317161534') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ResetCounterCacheOnPandaCmsTemplate (20240317163053)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPandaCms::Template Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_templates".* FROM "panda_cms_templates" ORDER BY "panda_cms_templates"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317163053') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsRedirects (20240317214827)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "panda_cms_redirects" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "origin_path" character varying, "destination_path" character varying, "origin_panda_cms_page_id" uuid, "destination_panda_cms_page_id" uuid, "status_code" integer DEFAULT 301 NOT NULL, "visits" integer DEFAULT 0 NOT NULL, "last_visited_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f6681858f4"
FOREIGN KEY ("origin_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_75d5b262c6"
FOREIGN KEY ("destination_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_origin_panda_cms_page_id" ON "panda_cms_redirects" ("origin_panda_cms_page_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_destination_panda_cms_page_id" ON "panda_cms_redirects" ("destination_panda_cms_page_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317214827') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsVisits (20240317230622)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "panda_cms_visits" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "ip_address" character varying, "user_agent" character varying, "panda_cms_page_id" uuid, "panda_cms_redirect_id" uuid, "panda_cms_user_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1e5d13f78e"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_b9aec2b098"
FOREIGN KEY ("panda_cms_redirect_id")
  REFERENCES "panda_cms_redirects" ("id")
, CONSTRAINT "fk_rails_a52e2a2dfb"
FOREIGN KEY ("panda_cms_user_id")
  REFERENCES "panda_cms_users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_page_id" ON "panda_cms_visits" ("panda_cms_page_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_redirect_id" ON "panda_cms_visits" ("panda_cms_redirect_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_user_id" ON "panda_cms_visits" ("panda_cms_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317230622') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20240324205703)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324205703') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to DefaultPandaCmsUsersAdminToFalse (20240408084718)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_users" ALTER COLUMN "admin" TYPE boolean, ALTER COLUMN "admin" SET DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240408084718') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddServiceNameToActiveStorageBlobs (20240701225422)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225422') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageVariantRecords (20240701225423)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE IF NOT EXISTS "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX IF NOT EXISTS "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225423') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240701225424)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "active_storage_blobs" ALTER COLUMN "checksum" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225424') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsForms (20240804235210)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_forms" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "submissions" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_forms_on_name" ON "panda_cms_forms" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240804235210') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsFormSubmissions (20240805013612)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "panda_cms_form_submissions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "form_id" uuid NOT NULL, "data" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1a34a88889"
FOREIGN KEY ("form_id")
  REFERENCES "panda_cms_forms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_form_submissions_on_form_id" ON "panda_cms_form_submissions" ("form_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805013612') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPosts (20240805121123)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_tags" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "tag" character varying, "description" character varying, "slug" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_tag" ON "panda_cms_post_tags" ("tag")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_slug" ON "panda_cms_post_tags" ("slug")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_posts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "slug" character varying, "content" text, "published_at" timestamp(6), "post_tag_id" uuid NOT NULL, "user_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c5f18cc73b"
FOREIGN KEY ("post_tag_id")
  REFERENCES "panda_cms_post_tags" ("id")
, CONSTRAINT "fk_rails_d1f9aa10f4"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_post_tag_id" ON "panda_cms_posts" ("post_tag_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_user_id" ON "panda_cms_posts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_posts_on_slug" ON "panda_cms_posts" ("slug")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_post_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_post_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD "status" panda_cms_post_status DEFAULT 'draft' NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_status" ON "panda_cms_posts" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805121123') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPostVersions (20240805123104)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_post_versions_on_item_type_and_item_id" ON "panda_cms_post_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805123104') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixPandaCmsVisitsColumnNames (20240806112735)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_page_id" TO "page_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_page_id" RENAME TO "index_panda_cms_visits_on_page_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_redirect_id" TO "redirect_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_redirect_id" RENAME TO "index_panda_cms_visits_on_redirect_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_user_id" TO "user_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_user_id" RENAME TO "index_panda_cms_visits_on_user_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "referrer" character varying[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "visited_at" timestamp(6)[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "url" character varying[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "params" jsonb[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240806112735') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCompletionPathToPandaCmsForms (20240806204412)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_forms" ADD "completion_path" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240806204412') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeFormSubmissionsToSubmissionCount (20240820081917)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_forms" RENAME COLUMN "submissions" TO "submission_count"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240820081917') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActionTextTables (20240904200605)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "action_text_rich_texts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "body" text, "record_type" character varying NOT NULL, "record_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_action_text_rich_texts_uniqueness" ON "action_text_rich_texts" ("record_type", "record_id", "name")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "action_text_rich_text_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_action_text_rich_text_versions_on_item_type_and_item_id" ON "action_text_rich_text_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240904200605') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDepthToPandaCmsMenus (20240923234535)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "depth" integer DEFAULT NULL[0m
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240923234535') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (66.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_development"[0m
  [1m[35m (31.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (12.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_development"[0m
  [1m[35m (16.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (111.4ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (47.1ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-14 19:15:53.077483', '2024-10-14 19:15:53.077486') RETURNING "key"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreatePandaCmsPages (20240205223709)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_pages" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240205223709') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPageVersions (20240219213327)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_page_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_page_versions_on_item_type_and_item_id" ON "panda_cms_page_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240219213327') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsTemplates (20240303002805)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "panda_cms_templates" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "file_path" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "panda_cms_template_id" uuid NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_panda_cms_template_id" ON "panda_cms_pages" ("panda_cms_template_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_4d77d0709c"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303002805') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsTemplateVersions (20240303003434)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_template_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_template_versions_on_item_type_and_item_id" ON "panda_cms_template_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303003434') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlocks (20240303022441)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_block_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_block_kind" AS ENUM ('plain_text', 'rich_text', 'image', 'video', 'audio', 'file', 'code', 'iframe', 'quote', 'list', 'table', 'form');
    END IF;
END
$$;
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_blocks" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "kind" panda_cms_block_kind DEFAULT 'plain_text' NOT NULL, "name" character varying, "key" character varying, "panda_cms_template_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_df785785c5"
FOREIGN KEY ("panda_cms_template_id")
  REFERENCES "panda_cms_templates" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_blocks_on_panda_cms_template_id" ON "panda_cms_blocks" ("panda_cms_template_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303022441') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlockContents (20240303024256)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_contents" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "panda_cms_page_id" uuid NOT NULL, "panda_cms_block_id" uuid NOT NULL, "content" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a6b084725d"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_356aa7a5ab"
FOREIGN KEY ("panda_cms_block_id")
  REFERENCES "panda_cms_blocks" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_page_id" ON "panda_cms_block_contents" ("panda_cms_page_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_block_contents_on_panda_cms_block_id" ON "panda_cms_block_contents" ("panda_cms_block_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303024256') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsBlockContentVersions (20240303024746)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_block_content_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_item_type_item_id_0679a5111f" ON "panda_cms_block_content_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303024746') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPandaCmsMenuTable (20240303233238)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "panda_cms_menus" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_menus_on_name" ON "panda_cms_menus" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303233238') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPandaCmsMenuItemTable (20240303234724)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_menu_items" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "text" character varying NOT NULL, "panda_cms_menu_id" uuid NOT NULL, "panda_cms_page_id" uuid, "external_url" character varying, "sort_order" integer DEFAULT 1, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e0dd7e4191"
FOREIGN KEY ("panda_cms_menu_id")
  REFERENCES "panda_cms_menus" ("id")
, CONSTRAINT "fk_rails_4c61fc7499"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_menu_id" ON "panda_cms_menu_items" ("panda_cms_menu_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_panda_cms_page_id" ON "panda_cms_menu_items" ("panda_cms_page_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240303234724') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddParentIdToPandaCmsPages (20240304134343)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "parent_id" uuid[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_parent_id" ON "panda_cms_pages" ("parent_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD CONSTRAINT "fk_rails_3ca2368c5a"
FOREIGN KEY ("parent_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240304134343') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedSetsToPandaCmsPages (20240315125421)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddStatusToPandaCmsPages (20240315125411)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_page_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_page_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "status" panda_cms_page_status DEFAULT 'active' NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_status" ON "panda_cms_pages" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240315125411') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedSetsToPandaCmsPages (20240315125421)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPandaCms::Page Update All (0.7ms)[0m  [1m[33mUPDATE "panda_cms_pages" SET "parent_id" = $1 WHERE "panda_cms_pages"."parent_id" = $2[0m  [["parent_id", nil], ["parent_id", nil]]
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "lft" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "rgt" integer[0m
  [1m[36mPandaCms::Page Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_pages" LEFT OUTER JOIN "panda_cms_pages" "parent" ON "parent"."id" = "panda_cms_pages"."parent_id" WHERE ((("panda_cms_pages"."lft" IS NULL OR "panda_cms_pages"."rgt" IS NULL) OR "panda_cms_pages"."lft" >= "panda_cms_pages"."rgt") OR "panda_cms_pages"."parent_id" IS NOT NULL AND ("panda_cms_pages"."lft" <= "parent"."lft" OR "panda_cms_pages"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::Page Load (0.7ms)[0m  [1m[34mSELECT "panda_cms_pages"."lft", COUNT("panda_cms_pages"."lft") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."lft", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."lft") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (1.5ms)[0m  [1m[34mSELECT "panda_cms_pages"."rgt", COUNT("panda_cms_pages"."rgt") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."rgt", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."rgt") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.3ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."parent_id" IS NULL ORDER BY lft[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240315125421') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKindToPandaCmsMenus (20240316212822)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_menu_kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_menu_kind" AS ENUM ('static', 'auto');
    END IF;
END
$$;
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "kind" panda_cms_menu_kind DEFAULT 'static' NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316212822') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStartPageToPandaCmsMenus (20240316221425)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "start_page_id" uuid[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menus_on_start_page_id" ON "panda_cms_menus" ("start_page_id")[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD CONSTRAINT "fk_rails_15852354cf"
FOREIGN KEY ("start_page_id")
  REFERENCES "panda_cms_pages" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316221425') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNestedToPandaCmsMenuItems (20240316230706)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "parent_id" uuid[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "lft" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "rgt" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "depth" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menu_items" ADD "children_count" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_lft" ON "panda_cms_menu_items" ("lft")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_menu_items_on_rgt" ON "panda_cms_menu_items" ("rgt")[0m
  [1m[36mPandaCms::MenuItem Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_menu_items" LEFT OUTER JOIN "panda_cms_menu_items" "parent" ON "parent"."id" = "panda_cms_menu_items"."parent_id" WHERE ((("panda_cms_menu_items"."lft" IS NULL OR "panda_cms_menu_items"."rgt" IS NULL) OR "panda_cms_menu_items"."lft" >= "panda_cms_menu_items"."rgt") OR "panda_cms_menu_items"."parent_id" IS NOT NULL AND ("panda_cms_menu_items"."lft" <= "parent"."lft" OR "panda_cms_menu_items"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::MenuItem Load (0.3ms)[0m  [1m[34mSELECT "panda_cms_menu_id", "panda_cms_menu_items"."lft", COUNT("panda_cms_menu_items"."lft") as _count FROM "panda_cms_menu_items" GROUP BY "panda_cms_menu_id", "panda_cms_menu_items"."lft", "panda_cms_menu_items"."id" HAVING (COUNT("panda_cms_menu_items"."lft") > 1) ORDER BY "panda_cms_menu_items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::MenuItem Load (0.3ms)[0m  [1m[34mSELECT "panda_cms_menu_id", "panda_cms_menu_items"."rgt", COUNT("panda_cms_menu_items"."rgt") as _count FROM "panda_cms_menu_items" GROUP BY "panda_cms_menu_id", "panda_cms_menu_items"."rgt", "panda_cms_menu_items"."id" HAVING (COUNT("panda_cms_menu_items"."rgt") > 1) ORDER BY "panda_cms_menu_items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::MenuItem Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_menu_items".* FROM "panda_cms_menu_items" WHERE "panda_cms_menu_items"."parent_id" IS NULL ORDER BY lft[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "depth" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_pages" ADD "children_count" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_lft" ON "panda_cms_pages" ("lft")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_pages_on_rgt" ON "panda_cms_pages" ("rgt")[0m
  [1m[36mPandaCms::Page Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "panda_cms_pages" LEFT OUTER JOIN "panda_cms_pages" "parent" ON "parent"."id" = "panda_cms_pages"."parent_id" WHERE ((("panda_cms_pages"."lft" IS NULL OR "panda_cms_pages"."rgt" IS NULL) OR "panda_cms_pages"."lft" >= "panda_cms_pages"."rgt") OR "panda_cms_pages"."parent_id" IS NOT NULL AND ("panda_cms_pages"."lft" <= "parent"."lft" OR "panda_cms_pages"."rgt" >= "parent"."rgt"))[0m
  [1m[36mPandaCms::Page Load (4.7ms)[0m  [1m[34mSELECT "panda_cms_pages"."lft", COUNT("panda_cms_pages"."lft") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."lft", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."lft") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.5ms)[0m  [1m[34mSELECT "panda_cms_pages"."rgt", COUNT("panda_cms_pages"."rgt") as _count FROM "panda_cms_pages" GROUP BY "panda_cms_pages"."rgt", "panda_cms_pages"."id" HAVING (COUNT("panda_cms_pages"."rgt") > 1) ORDER BY "panda_cms_pages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPandaCms::Page Load (0.5ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."parent_id" IS NULL ORDER BY lft[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240316230706') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsUsers (20240317010532)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "firstname" character varying, "lastname" character varying, "email" character varying, "image_url" character varying, "admin" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317010532') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMaxUsesToPandaCmsTemplate (20240317161534)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_templates" ADD "max_uses" integer DEFAULT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_templates" ADD "pages_count" integer DEFAULT 0[0m
  [1m[36mPandaCms::Template Load (0.3ms)[0m  [1m[34mSELECT "panda_cms_templates".* FROM "panda_cms_templates" WHERE "panda_cms_templates"."name" = $1 LIMIT $2[0m  [["name", "Homepage"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317161534') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ResetCounterCacheOnPandaCmsTemplate (20240317163053)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPandaCms::Template Load (0.2ms)[0m  [1m[34mSELECT "panda_cms_templates".* FROM "panda_cms_templates" ORDER BY "panda_cms_templates"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317163053') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsRedirects (20240317214827)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "panda_cms_redirects" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "origin_path" character varying, "destination_path" character varying, "origin_panda_cms_page_id" uuid, "destination_panda_cms_page_id" uuid, "status_code" integer DEFAULT 301 NOT NULL, "visits" integer DEFAULT 0 NOT NULL, "last_visited_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f6681858f4"
FOREIGN KEY ("origin_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_75d5b262c6"
FOREIGN KEY ("destination_panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_origin_panda_cms_page_id" ON "panda_cms_redirects" ("origin_panda_cms_page_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_redirects_on_destination_panda_cms_page_id" ON "panda_cms_redirects" ("destination_panda_cms_page_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317214827') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsVisits (20240317230622)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_visits" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "ip_address" character varying, "user_agent" character varying, "panda_cms_page_id" uuid, "panda_cms_redirect_id" uuid, "panda_cms_user_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1e5d13f78e"
FOREIGN KEY ("panda_cms_page_id")
  REFERENCES "panda_cms_pages" ("id")
, CONSTRAINT "fk_rails_b9aec2b098"
FOREIGN KEY ("panda_cms_redirect_id")
  REFERENCES "panda_cms_redirects" ("id")
, CONSTRAINT "fk_rails_a52e2a2dfb"
FOREIGN KEY ("panda_cms_user_id")
  REFERENCES "panda_cms_users" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_page_id" ON "panda_cms_visits" ("panda_cms_page_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_redirect_id" ON "panda_cms_visits" ("panda_cms_redirect_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_visits_on_panda_cms_user_id" ON "panda_cms_visits" ("panda_cms_user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240317230622') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20240324205703)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324205703') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to DefaultPandaCmsUsersAdminToFalse (20240408084718)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "panda_cms_users" ALTER COLUMN "admin" TYPE boolean, ALTER COLUMN "admin" SET DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240408084718') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddServiceNameToActiveStorageBlobs (20240701225422)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225422') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageVariantRecords (20240701225423)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE IF NOT EXISTS "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX IF NOT EXISTS "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225423') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240701225424)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "active_storage_blobs" ALTER COLUMN "checksum" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240701225424') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsForms (20240804235210)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "panda_cms_forms" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying, "submissions" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_forms_on_name" ON "panda_cms_forms" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240804235210') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsFormSubmissions (20240805013612)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_form_submissions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "form_id" uuid NOT NULL, "data" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1a34a88889"
FOREIGN KEY ("form_id")
  REFERENCES "panda_cms_forms" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_form_submissions_on_form_id" ON "panda_cms_form_submissions" ("form_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805013612') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPosts (20240805121123)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_tags" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "tag" character varying, "description" character varying, "slug" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_tag" ON "panda_cms_post_tags" ("tag")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_post_tags_on_slug" ON "panda_cms_post_tags" ("slug")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_posts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying, "slug" character varying, "content" text, "published_at" timestamp(6), "post_tag_id" uuid NOT NULL, "user_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c5f18cc73b"
FOREIGN KEY ("post_tag_id")
  REFERENCES "panda_cms_post_tags" ("id")
, CONSTRAINT "fk_rails_d1f9aa10f4"
FOREIGN KEY ("user_id")
  REFERENCES "panda_cms_users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_post_tag_id" ON "panda_cms_posts" ("post_tag_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_user_id" ON "panda_cms_posts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_panda_cms_posts_on_slug" ON "panda_cms_posts" ("slug")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'panda_cms_post_status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "panda_cms_post_status" AS ENUM ('active', 'draft', 'hidden', 'archived');
    END IF;
END
$$;
[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_posts" ADD "status" panda_cms_post_status DEFAULT 'draft' NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_posts_on_status" ON "panda_cms_posts" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805121123') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePandaCmsPostVersions (20240805123104)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "panda_cms_post_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_panda_cms_post_versions_on_item_type_and_item_id" ON "panda_cms_post_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240805123104') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixPandaCmsVisitsColumnNames (20240806112735)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_page_id" TO "page_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_page_id" RENAME TO "index_panda_cms_visits_on_page_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_redirect_id" TO "redirect_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_redirect_id" RENAME TO "index_panda_cms_visits_on_redirect_id"[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" RENAME COLUMN "panda_cms_user_id" TO "user_id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER INDEX "index_panda_cms_visits_on_panda_cms_user_id" RENAME TO "index_panda_cms_visits_on_user_id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "referrer" character varying[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "visited_at" timestamp(6)[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "url" character varying[0m
  [1m[35m (0.0ms)[0m  [1m[35mALTER TABLE "panda_cms_visits" ADD "params" jsonb[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240806112735') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCompletionPathToPandaCmsForms (20240806204412)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "panda_cms_forms" ADD "completion_path" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240806204412') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeFormSubmissionsToSubmissionCount (20240820081917)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "panda_cms_forms" RENAME COLUMN "submissions" TO "submission_count"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240820081917') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActionTextTables (20240904200605)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "action_text_rich_texts" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "body" text, "record_type" character varying NOT NULL, "record_id" uuid NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_action_text_rich_texts_uniqueness" ON "action_text_rich_texts" ("record_type", "record_id", "name")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "action_text_rich_text_versions" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" character varying NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp(6))[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_action_text_rich_text_versions_on_item_type_and_item_id" ON "action_text_rich_text_versions" ("item_type", "item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240904200605') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDepthToPandaCmsMenus (20240923234535)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "panda_cms_menus" ADD "depth" integer DEFAULT NULL[0m
  [1m[36mPandaCms::Page Load (0.1ms)[0m  [1m[34mSELECT "panda_cms_pages".* FROM "panda_cms_pages" WHERE "panda_cms_pages"."path" = $1 LIMIT $2[0m  [["path", "/"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240923234535') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (33.0ms)[0m  [1m[35mCREATE DATABASE "dummy_development" ENCODING = 'unicode'[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(1721091371569202325)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
Writing application-c6dbd6de.js
Writing controllers/hello_controller-0234a591.js
Writing controllers/index-d55c9516.js
Writing application.tailwind-5a27bc19.css
Writing manifest-46e6a649.js
Writing application-8b6ef523.css
Writing turbo.min-ea50fe8c.js.map
Writing turbo-f5f7a512.js
Writing turbo.min-ca600531.js
Writing panda_cms-650ca2b7.css
Writing panda_cms_manifest-b90105e1.js
Writing panda_cms/application.tailwind-8ff0540f.css
Writing prism.min-59bc34c1.js
Writing prism-42cc0795.css
Writing actiontext.esm-d774061d.js
Writing actiontext-ffa2d313.js
Writing trix-69c6b53d.js
Writing trix-c9f1aa5b.css
Writing action_cable-8a10591f.js
Writing actioncable.esm-e5c1e716.js
Writing actioncable-f4368b06.js
Writing activestorage.esm-3d1d942d.js
Writing activestorage-e376044f.js
Writing rails-ujs.esm-2f36ae4d.js
Writing rails-ujs-3de06f48.js
Writing panda_cms_editable-c42c7c23.js
Writing panda_cms-752624d3.js
Writing @hotwired--stimulus-loading-25917588.js
Writing controllers/slug_controller-179f7b72.js
Writing @rails--activestorage-04a0e5c4.js
Writing tailwindcss-stimulus-components-61fcf267.js
Writing @rails--actioncable-8ecaf09c.js
Writing @hotwired--turbo-c906a818.js
Writing @hotwired--stimulus-8460570e.js
Configuring OmniAuth for google with {:name=>"google", :client_id=>nil, :client_secret=>nil, :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :scope=>"email, profile", :image_aspect_ratio=>"square", :image_size=>150, :prompt=>"select_account", :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/google/callback", :enabled=>true}
Configuring OmniAuth for github with {:name=>"github", :client_id=>"Ov23li9k0LpMXtq8FShb", :client_secret=>"659f54cad324a00b19fc4e342cfecc6a0534fa55", :scope=>"user:email,read:user", :create_account_on_first_login=>true, :create_admin_account_on_first_login=>false, :hidden=>false, :path_prefix=>"/admin/auth", :redirect_uri=>"http://localhost:3000/admin/auth/github/callback", :enabled=>true}
